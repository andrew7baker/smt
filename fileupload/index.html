<!DOCTYPE html>
<html>
    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
        <title>Spring Boot File Upload / Download Rest API Example</title>
        <link rel="stylesheet" href="../js/layui/css/layui.css"  media="all">
        <script src="../js/layui/layui.js" charset="utf-8"></script>

    </head>
    <body>
        <div class="layui-upload">
            <button type="button" class="layui-btn layui-btn-normal" id="test8">选择文件</button>
            <button type="button" class="layui-btn" id="test9">开始上传</button>
        </div>
        <!--<fieldset class="layui-elem-field layui-field-title" style="margin-top: 30px;">-->
            <!--<legend>拖拽上传</legend>-->
        <!--</fieldset>-->
        <!--<div class="layui-upload-drag" id="test10">-->
            <!--<i class="layui-icon"></i>-->
            <!--<p>点击上传，或将文件拖拽到此处</p>-->
        <!--</div>-->

    <script>
        layui.use('upload', function(){
            var $ = layui.jquery
                ,upload = layui.upload;

            //同时绑定多个元素，并将属性设定在元素上
            upload.render({
                elem: '.demoMore'
                ,before: function(){
                    layer.tips('接口地址：'+ this.url, this.item, {tips: 1});
                }
                ,done: function(res, index, upload){
                    var item = this.item;
                    console.log(item); //获取当前触发上传的元素，layui 2.1.0 新增
                }
            })

            //选完文件后不自动上传
            upload.render({
                elem: '#test8'
                ,url: 'http://localhost:8080/˚/smt-file-upload/uploadFile'
                ,auto: false
                //,multiple: true
                ,bindAction: '#test9'
                ,done: function(res){
                    console.log(res)
                }
            });
        });
    </script>
    </body>
</html>
